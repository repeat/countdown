<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="練習 Luxon 的專案">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap&subset=chinese-traditional"
rel="stylesheet">
<script src="https://unpkg.com/vue@3"></script>
<script src="https://unpkg.com/luxon@2"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DGKBYYKDBT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DGKBYYKDBT');
</script>
<style>
  #app {
    font-family: 'Noto Sans TC', sans-serif;
  }
</style>
<title>練習 Luxon 的專案</title>
</head>
<body>
<div id="app">
  <p id="work">自 2007/12/06 起到今天已經 {{ fromEmployeed }} 天，距離 15 週年剩下 {{ until15thAnniversary }}。</p>
</div>
<div id="link">
  <a href="./work.html">work</a>
</div>
<script>
  var DateTime = luxon.DateTime,
    Interval = luxon.Interval;
  let betweenDays = (startDate, endDate) => {
    return Intl.NumberFormat('zh-TW').format(Interval.fromDateTimes(startDate, endDate).count('days'));
  };
  const durationSettings = ['days', 'hours', 'minutes', 'seconds'],
    Taipei = { zone: 'Asia/Taipei' },
    now = DateTime.now(),
    today = DateTime.fromISO(now.toISODate()),
    employeedDate = DateTime.fromSQL('2007-12-06', Taipei),
    fifteenthAnniversaryDate = employeedDate.plus({year: 15}),
    fromEmployeed = betweenDays(employeedDate, today),
    until15thAnniversary = Interval.fromDateTimes(now, fifteenthAnniversaryDate).toDuration(durationSettings).toFormat('d 天 h 小時 m 分 s 秒');

  Vue.createApp({
    data() {
      return {
        fromEmployeed: fromEmployeed,
        until15thAnniversary: until15thAnniversary,
      }
    }
  }).mount('#app')
</script>
</body>
</html>
