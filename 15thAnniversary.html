<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="15th Anniversary">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap&subset=chinese-traditional"
rel="stylesheet">
<script src="https://unpkg.com/vue@3"></script>
<script src="https://unpkg.com/luxon@2"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DGKBYYKDBT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DGKBYYKDBT');
</script>
<style>
  #app {
    font-family: 'Noto Sans TC', sans-serif;
  }
</style>
<title>15th Anniversary</title>
</head>
<body>
<div id="app">
  <p>距離 15 週年剩下 {{ untilAnniversary.format }}。</p>
  <time>
    {{ untilAnniversary.days }} d
    {{ untilAnniversary.hours }} h
    {{ untilAnniversary.minutes }} m
    {{ untilAnniversary.seconds }} s
  </time>
</div>
<ul id="link">
  <li><a href="./index.html">index</a></li>
  <li><a href="./15thAnniversary.html">15th Anniversary</a></li>
  <li><a href="./work.html">work</a></li>
</ul>
<script>
  var DateTime = luxon.DateTime,
    Duration = luxon.Duration;
  const Taipei = { zone: 'Asia/Taipei' },
    employeedDate = DateTime.fromSQL('2007-12-06', Taipei);

  Vue.createApp({
    data() {
      return {
        now: DateTime.now().set({ milliseconds: 0 }),
        anniversaryDate: employeedDate.plus({ year: 15 }),
      };
    },
    computed: {
      countDiff() {
        return this.anniversaryDate.diff(this.now, [
          'days', 'hours', 'minutes', 'seconds',
        ]).toObject();
      },
      untilAnniversary() {
        var currentDuration = Duration.fromObject(this.countDiff),
          currentDurationObject = currentDuration.toObject();
        currentDurationObject.format = currentDuration.toFormat('d 天 h 小時 m 分 s 秒');

        return currentDurationObject;
      },
    },
    mounted() {
      setInterval(() => {
        this.now = DateTime.now().set({ milliseconds: 0 })
      }, 1000);
    },
  }).mount('#app')
</script>
</body>
</html>
